targetPackage: zhy2002.examples.app
typeName: GlobalUiState
# this domain describe from manager global UI state
rootType:
  typeName: GlobalUiStateNode
  baseTypeName: RootUiNode
  properties:
  - {name: selectedTabIndex, typeName: int, default: 0}
  - {name: headerHeight, typeName: double, default: Double.NaN}
  - {name: footerHeight, typeName: double, default: Double.NaN}
  rules:
  - {typeName: UpdateSelectedTabIndexRule, existing: false}
  - {typeName: HandleAddOpenAppActionRule, existing: false}
  actions:
  - {typeName: AddOpenApp, parameterTypeName: Object}
  children:
  - {typeName: HeaderNode}
  - {typeName: OpenAppsNode}
  - {typeName: AppManagerNode}
  childTypes:
  - typeName: HeaderNode
    baseTypeName: ObjectUiNode
    properties:
    - {name: siteLogoPath, typeName: String}
    config:
    - {property: '@siteLogoPath', value: '"img/site_logo.png"'}
    children: []

  - typeName: OpenAppsNode
    baseTypeName: ListUiNode
    itemTypeName: OpenAppNode
    childTypes:
    - typeName: OpenAppNode
      baseTypeName: AnyUiNode

  # manage loaded applications
  - typeName: AppManagerNode
    baseTypeName: ObjectUiNode
    properties:
    - {name: currentAppId, typeName: String}
    init:
    - {propertyName: nodeLabel, value: '"App Manager"'}
    children:
    - {typeName: ApplicationListNode}
    childTypes:
    - typeName: ApplicationListNode
      baseTypeName: ObjectUiNode
      properties:
      - {name: updated, typeName: Boolean, trackingMode: Always}
      children: []